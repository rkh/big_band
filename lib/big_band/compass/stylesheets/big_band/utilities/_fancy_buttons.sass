@import border_radius.sass
@import css3_prefix.sass

!fancy_button_color     = #222
!fancy_button_height    = 30px
!fancy_button_width     = "auto"
!fancy_button_radius    = "auto"
!fancy_button_darkening = 0.3

=fancy-button(!color = !fancy_button_color, !height = !fancy_button_height, !width = !fancy_button_width, !radius = !fancy_button_radius)
  @if !radius == "auto"
    !radius = !height
  @if !height < !radius * 2
    !radius = !height / 2
  +border-radius(!radius)
  +box-shadow(0 1px 10px rgba(0, 0, 0, 0.6))
  text-shadow = 0 -1px (!height * 0.1) rgba(0,0,0,0.7)
  border-bottom: 1px solid rgba(0, 0, 0, 0.25)
  background:
    color = !color
    image: url(/__big_band__/overlay-button.png)
    repeat: repeat-x
    attachment: scroll
    position:
      top: 0
      left: 0
  display: inline-block
  padding = (!height * 0.1 - 1px) (!height * 0.5)
  color: #fff !important
  text:
    decoration: none
    align: center
  -moz-background:
    clip: border
    inline-policy: continuous
  font:
    family: Arial,Helvetica,Helvetica Neue,Verdana,sans-serif
    weight: bold
    size = !height * 0.8
  height = !height !important
  width = !width
  line-height: 1.2

=fancy-button-link(!color = !fancy_button_color, !height = !fancy_button_height, !width = !fancy_button_width, !radius = !fancy_button_radius, !darkening = !fancy_button_darkening)
  !offset = !height * 0.1 + 3px
  +fancy-button(!color, !height, !width, !radius)
  +prefixed("transition-property", "background, left, top, box-shadow, -moz-box-shadow, -webkit-box-shadow")
  +prefixed("transition-duration", "0.5s")
  position: relative
  top: 0
  left: 0
  cursor: pointer
  margin = !offset
  &:hover
    +fancy-button(!color * !darkening, !height, !width, !radius)
    +box-shadow(!offset !offset + 1px !offset + 10px rgba(0, 0, 0, 0.5))
    left = -!offset
    top  = -!offset
  &:visited, &:hover
    color = !color
    text-decoration: none

